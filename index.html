<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>üèê Arena Beach Tennis - Pedidos</title>
  <style>
    :root {
      --primary: #1e88e5;
      --secondary: #43a047;
      --danger: #e53935;
      --warning: #fb8c00;
      --light: #f5f5f5;
      --dark: #263238;
      --sand: #f4e9cd;
      --court: #38b6ff;
    }
    
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }
    
    body {
      background-color: var(--sand);
      color: var(--dark);
    }
    
    .container {
      max-width: 1400px;
      margin: 0 auto;
      padding: 20px;
    }
    
    header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 15px 0;
      border-bottom: 3px solid var(--court);
      margin-bottom: 30px;
    }
    
    .logo {
      display: flex;
      align-items: center;
      gap: 15px;
    }
    
    .logo-icon {
      font-size: 2.5rem;
      color: var(--court);
    }
    
    .logo h1 {
      font-size: 1.8rem;
      color: var(--dark);
    }
    
    .date-info {
      text-align: right;
    }
    
    .stats-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 20px;
      margin-bottom: 30px;
    }
    
    .stat-card {
      background: white;
      border-radius: 12px;
      padding: 20px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.08);
      text-align: center;
    }
    
    .stat-card h3 {
      font-size: 1.1rem;
      color: #666;
      margin-bottom: 10px;
    }
    
    .stat-card .value {
      font-size: 2rem;
      font-weight: bold;
      color: var(--primary);
    }
    
    .stat-card.success .value { color: var(--secondary); }
    .stat-card.warning .value { color: var(--warning); }
    .stat-card.danger .value { color: var(--danger); }
    
    .main-content {
      display: grid;
      grid-template-columns: 1fr 350px;
      gap: 30px;
      margin-bottom: 30px;
    }
    
    .courts-section {
      background: white;
      border-radius: 12px;
      padding: 25px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.08);
    }
    
    .section-title {
      font-size: 1.4rem;
      margin-bottom: 20px;
      color: var(--dark);
      display: flex;
      align-items: center;
      gap: 10px;
    }
    
    .courts-grid {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 15px;
    }
    
    .court {
      aspect-ratio: 1/1;
      border-radius: 12px;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      font-weight: bold;
      font-size: 1.3rem;
      cursor: pointer;
      transition: all 0.2s;
      box-shadow: 0 3px 8px rgba(0,0,0,0.1);
    }
    
    .court.free {
      background-color: #e3f2fd;
      border: 2px solid #bbdefb;
      color: var(--primary);
    }
    
    .court.busy {
      background-color: #ffebee;
      border: 2px solid #ffcdd2;
      color: var(--danger);
    }
    
    .court.preparing {
      background-color: #fff8e1;
      border: 2px solid #ffecb3;
      color: var(--warning);
    }
    
    .court:hover {
      transform: scale(1.05);
    }
    
    .orders-section {
      background: white;
      border-radius: 12px;
      padding: 25px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.08);
      height: fit-content;
    }
    
    .order-item {
      padding: 15px;
      border-radius: 10px;
      margin-bottom: 15px;
      background-color: #f9f9f9;
      border-left: 4px solid var(--primary);
    }
    
    .order-item.busy {
      border-left-color: var(--danger);
      background-color: #ffebee;
    }
    
    .order-item.preparing {
      border-left-color: var(--warning);
      background-color: #fff8e1;
    }
    
    .order-header {
      display: flex;
      justify-content: space-between;
      margin-bottom: 8px;
      font-weight: bold;
    }
    
    .order-items {
      font-size: 0.95rem;
      color: #555;
      margin-bottom: 10px;
    }
    
    .order-footer {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    
    .order-total {
      font-weight: bold;
      color: var(--primary);
      font-size: 1.1rem;
    }
    
    .order-actions button {
      background: var(--primary);
      color: white;
      border: none;
      padding: 6px 12px;
      border-radius: 6px;
      cursor: pointer;
      font-size: 0.9rem;
      transition: background 0.2s;
    }
    
    .order-actions button:hover {
      background: #1565c0;
    }
    
    .order-actions button.delivered {
      background: var(--secondary);
    }
    
    .order-actions button.delivered:hover {
      background: #2e7d32;
    }
    
    .tabs {
      display: flex;
      gap: 10px;
      margin-bottom: 20px;
      border-bottom: 2px solid #eee;
      padding-bottom: 10px;
    }
    
    .tab {
      padding: 8px 16px;
      border-radius: 6px 6px 0 0;
      cursor: pointer;
      font-weight: 500;
    }
    
    .tab.active {
      background: white;
      border: 1px solid #ddd;
      border-bottom: 2px solid var(--primary);
      color: var(--primary);
    }
    
    .modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.6);
      z-index: 1000;
      align-items: center;
      justify-content: center;
    }
    
    .modal-content {
      background: white;
      border-radius: 15px;
      width: 90%;
      max-width: 600px;
      padding: 30px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.2);
      position: relative;
    }
    
    .modal-title {
      font-size: 1.6rem;
      margin-bottom: 20px;
      color: var(--dark);
    }
    
    .modal-close {
      position: absolute;
      top: 15px;
      right: 15px;
      font-size: 1.5rem;
      cursor: pointer;
      color: #999;
    }
    
    .form-group {
      margin-bottom: 20px;
    }
    
    .form-group label {
      display: block;
      margin-bottom: 8px;
      font-weight: 500;
    }
    
    .form-group select,
    .form-group input {
      width: 100%;
      padding: 12px;
      border: 1px solid #ddd;
      border-radius: 8px;
      font-size: 1rem;
    }
    
    .menu-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 15px;
      margin-bottom: 25px;
    }
    
    .menu-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 12px 15px;
      background: #f5f9ff;
      border-radius: 8px;
      cursor: pointer;
      transition: background 0.2s;
    }
    
    .menu-item:hover {
      background: #e3f2fd;
    }
    
    .menu-item .name {
      font-weight: 500;
    }
    
    .menu-item .price {
      color: var(--primary);
      font-weight: bold;
    }
    
    .cart-items {
      margin-bottom: 20px;
      max-height: 200px;
      overflow-y: auto;
      padding-right: 5px;
    }
    
    .cart-item {
      display: flex;
      justify-content: space-between;
      padding: 8px 0;
      border-bottom: 1px solid #eee;
    }
    
    .cart-item .qty {
      font-weight: bold;
      color: var(--primary);
    }
    
    .cart-total {
      display: flex;
      justify-content: space-between;
      font-size: 1.2rem;
      font-weight: bold;
      margin: 20px 0;
      padding-top: 15px;
      border-top: 2px dashed #ddd;
    }
    
    .btn {
      background: var(--primary);
      color: white;
      border: none;
      padding: 12px 25px;
      border-radius: 8px;
      font-size: 1rem;
      font-weight: 600;
      cursor: pointer;
      transition: background 0.2s;
    }
    
    .btn:hover {
      background: #1565c0;
    }
    
    .btn-block {
      width: 100%;
    }
    
    .btn-success {
      background: var(--secondary);
    }
    
    .btn-success:hover {
      background: #2e7d32;
    }
    
    .btn-danger {
      background: var(--danger);
    }
    
    .btn-danger:hover {
      background: #c62828;
    }
    
    .observation {
      margin-top: 15px;
    }
    
    footer {
      text-align: center;
      padding: 30px;
      color: #777;
      font-size: 0.9rem;
      border-top: 1px solid #ddd;
      margin-top: 20px;
    }
    
    @media (max-width: 900px) {
      .main-content {
        grid-template-columns: 1fr;
      }
      
      .courts-grid {
        grid-template-columns: repeat(3, 1fr);
      }
    }
    
    @media (max-width: 600px) {
      .courts-grid {
        grid-template-columns: repeat(2, 1fr);
      }
      
      .stats-grid {
        grid-template-columns: repeat(2, 1fr);
      }
      
      .logo h1 {
        font-size: 1.4rem;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <div class="logo">
        <div class="logo-icon">üèê</div>
        <h1>ARENA BEACH TENNIS</h1>
      </div>
      <div class="date-info">
        <h2>S√°bado, 07 de Fevereiro de 2026</h2>
        <p>‚òÄÔ∏è 32¬∞C ‚Ä¢ 8 quadras ocupadas</p>
      </div>
    </header>

    <div class="stats-grid">
      <div class="stat-card">
        <h3>Pedidos Hoje</h3>
        <div class="value">24</div>
      </div>
      <div class="stat-card success">
        <h3>Faturamento</h3>
        <div class="value">R$ 842,00</div>
      </div>
      <div class="stat-card warning">
        <h3>Ticket M√©dio</h3>
        <div class="value">R$ 35,08</div>
      </div>
      <div class="stat-card danger">
        <h3>Quadras Ativas</h3>
        <div class="value">8/12</div>
      </div>
    </div>

    <div class="main-content">
      <div class="courts-section">
        <h2 class="section-title">üó∫Ô∏è Mapa das Quadras</h2>
        <div class="courts-grid" id="courts-grid">
          <!-- Quadras ser√£o geradas pelo JavaScript -->
        </div>
      </div>

      <div class="orders-section">
        <h2 class="section-title">‚ö° Pedidos Ativos</h2>
        <div class="tabs">
          <div class="tab active">Todos</div>
          <div class="tab">Preparando</div>
          <div class="tab">Entregar</div>
        </div>
        <div id="orders-list">
          <!-- Pedidos ser√£o gerados pelo JavaScript -->
        </div>
        <button class="btn btn-block" id="new-order-btn" style="margin-top: 20px;">
          ‚ûï Novo Pedido
        </button>
      </div>
    </div>

    <footer>
      <p>¬© 2026 Sistema de Pedidos - Arena Beach Tennis</p>
    </footer>
  </div>

  <!-- Modal Novo Pedido -->
  <div class="modal" id="order-modal">
    <div class="modal-content">
      <span class="modal-close" id="close-modal">&times;</span>
      <h2 class="modal-title">üìù Novo Pedido - Quadra <span id="modal-court-number">1</span></h2>
      
      <div class="form-group">
        <label>Observa√ß√£o (opcional)</label>
        <input type="text" id="observation" placeholder="Ex: Sem gelo, urgente...">
      </div>
      
      <h3 style="margin: 20px 0 15px;">ü•§ Card√°pio</h3>
      <div class="menu-grid" id="menu-grid">
        <!-- Itens do card√°pio ser√£o gerados pelo JavaScript -->
      </div>
      
      <h3 style="margin: 25px 0 15px;">üõí Carrinho</h3>
      <div class="cart-items" id="cart-items">
        <!-- Carrinho vazio inicialmente -->
        <p style="text-align: center; color: #999;">Seu carrinho est√° vazio</p>
      </div>
      
      <div class="cart-total">
        <span>Total:</span>
        <span id="cart-total">R$ 0,00</span>
      </div>
      
      <button class="btn btn-block btn-success" id="confirm-order">‚úÖ Confirmar Pedido</button>
    </div>
  </div>

  <script>
    // Estado da aplica√ß√£o
    const state = {
      courts: Array(12).fill('free'), // free, busy, preparing
      orders: [
        { id: 1, court: 3, items: [{name: '√Ågua mineral', qty: 2, price: 6}, {name: 'Banana', qty: 1, price: 5}], status: 'preparing', time: '14:23' },
        { id: 2, court: 7, items: [{name: 'Isot√¥nico', qty: 1, price: 12}], status: 'delivered', time: '14:25' },
        { id: 3, court: 1, items: [{name: 'Sandu√≠che natural', qty: 2, price: 20}], status: 'busy', time: '14:30' },
      ],
      menu: [
        { id: 1, name: '√Ågua mineral 500ml', price: 6.00, category: 'hidratacao' },
        { id: 2, name: '√Ågua de coco', price: 10.00, category: 'hidratacao' },
        { id: 3, name: 'Isot√¥nico 500ml', price: 12.00, category: 'hidratacao' },
        { id: 4, name: 'Banana prata', price: 5.00, category: 'snacks' },
        { id: 5, name: 'Barrinha de cereal', price: 8.00, category: 'snacks' },
        { id: 6, name: 'Sandu√≠che natural', price: 20.00, category: 'pos-jogo' },
        { id: 7, name: 'A√ßa√≠ 300g', price: 18.00, category: 'pos-jogo' },
        { id: 8, name: 'Cerveja lata', price: 10.00, category: 'bebidas' },
      ],
      cart: [],
      selectedCourt: 1,
      nextOrderId: 4
    };

    // DOM Elements
    const courtsGrid = document.getElementById('courts-grid');
    const ordersList = document.getElementById('orders-list');
    const orderModal = document.getElementById('order-modal');
    const closeModal = document.getElementById('close-modal');
    const newOrderBtn = document.getElementById('new-order-btn');
    const menuGrid = document.getElementById('menu-grid');
    const cartItems = document.getElementById('cart-items');
    const cartTotal = document.getElementById('cart-total');
    const confirmOrderBtn = document.getElementById('confirm-order');
    const modalCourtNumber = document.getElementById('modal-court-number');

    // Renderizar quadras
    function renderCourts() {
      courtsGrid.innerHTML = '';
      
      state.courts.forEach((status, index) => {
        const court = document.createElement('div');
        court.className = `court ${status}`;
        court.textContent = index + 1;
        court.dataset.court = index + 1;
        
        if (status !== 'free') {
          const order = state.orders.find(o => o.court === index + 1 && o.status !== 'delivered');
          if (order) {
            court.innerHTML += `<div style="font-size:0.8rem;margin-top:8px">Pedido #${order.id}</div>`;
          }
        }
        
        court.addEventListener('click', () => openOrderModal(index + 1));
        courtsGrid.appendChild(court);
      });
    }

    // Renderizar pedidos
    function renderOrders() {
      ordersList.innerHTML = '';
      
      const activeOrders = state.orders.filter(o => o.status !== 'delivered').sort((a, b) => a.id - b.id);
      
      if (activeOrders.length === 0) {
        ordersList.innerHTML = '<p style="text-align:center;color:#999;padding:20px">Nenhum pedido ativo</p>';
        return;
      }
      
      activeOrders.forEach(order => {
        const orderEl = document.createElement('div');
        orderEl.className = `order-item ${order.status}`;
        
        const itemsText = order.items.map(item => `${item.name} x${item.qty}`).join(', ');
        const total = order.items.reduce((sum, item) => sum + (item.price * item.qty), 0);
        
        orderEl.innerHTML = `
          <div class="order-header">
            <span>Quadra ${order.court} ‚Ä¢ #${order.id}</span>
            <span>${order.time}</span>
          </div>
          <div class="order-items">${itemsText}</div>
          <div class="order-footer">
            <div class="order-total">R$ ${total.toFixed(2)}</div>
            <div class="order-actions">
              ${order.status === 'busy' ? 
                `<button class="prepare-btn" data-id="${order.id}">Preparar</button>` : 
                `<button class="delivered-btn" data-id="${order.id}">Entregue</button>`}
            </div>
          </div>
        `;
        
        ordersList.appendChild(orderEl);
      });
      
      // Adicionar eventos aos bot√µes
      document.querySelectorAll('.prepare-btn').forEach(btn => {
        btn.addEventListener('click', (e) => {
          const id = parseInt(e.target.dataset.id);
          const order = state.orders.find(o => o.id === id);
          if (order) {
            order.status = 'preparing';
            state.courts[order.court - 1] = 'preparing';
            renderCourts();
            renderOrders();
          }
        });
      });
      
      document.querySelectorAll('.delivered-btn').forEach(btn => {
        btn.addEventListener('click', (e) => {
          const id = parseInt(e.target.dataset.id);
          const order = state.orders.find(o => o.id === id);
          if (order) {
            order.status = 'delivered';
            // Verificar se h√° outro pedido ativo para esta quadra
            const otherActive = state.orders.find(o => o.court === order.court && o.status !== 'delivered');
            state.courts[order.court - 1] = otherActive ? otherActive.status : 'free';
            renderCourts();
            renderOrders();
          }
        });
      });
    }

    // Renderizar card√°pio no modal
    function renderMenu() {
      menuGrid.innerHTML = '';
      
      state.menu.forEach(item => {
        const menuItem = document.createElement('div');
        menuItem.className = 'menu-item';
        menuItem.innerHTML = `
          <span class="name">${item.name}</span>
          <span class="price">R$ ${item.price.toFixed(2)}</span>
        `;
        menuItem.addEventListener('click', () => addToCart(item));
        menuGrid.appendChild(menuItem);
      });
    }

    // Adicionar item ao carrinho
    function addToCart(item) {
      const existing = state.cart.find(c => c.id === item.id);
      if (existing) {
        existing.qty += 1;
      } else {
        state.cart.push({...item, qty: 1});
      }
      renderCart();
    }

    // Remover item do carrinho
    function removeFromCart(itemId) {
      const index = state.cart.findIndex(c => c.id === itemId);
      if (index !== -1) {
        if (state.cart[index].qty > 1) {
          state.cart[index].qty -= 1;
        } else {
          state.cart.splice(index, 1);
        }
        renderCart();
      }
    }

    // Renderizar carrinho
    function renderCart() {
      if (state.cart.length === 0) {
        cartItems.innerHTML = '<p style="text-align:center;color:#999;">Seu carrinho est√° vazio</p>';
        cartTotal.textContent = 'R$ 0,00';
        return;
      }
      
      cartItems.innerHTML = '';
      
      state.cart.forEach(item => {
        const cartItem = document.createElement('div');
        cartItem.className = 'cart-item';
        cartItem.innerHTML = `
          <div>
            <span class="name">${item.name}</span>
            <span class="qty">x${item.qty}</span>
          </div>
          <div>
            <span>R$ ${(item.price * item.qty).toFixed(2)}</span>
            <span style="margin-left:10px;cursor:pointer;color:var(--danger);" class="remove-item" data-id="${item.id}">üóëÔ∏è</span>
          </div>
        `;
        cartItems.appendChild(cartItem);
      });
      
      // Adicionar evento de remover
      document.querySelectorAll('.remove-item').forEach(btn => {
        btn.addEventListener('click', (e) => {
          const id = parseInt(e.target.dataset.id || e.target.parentElement.dataset.id);
          removeFromCart(id);
        });
      });
      
      // Calcular total
      const total = state.cart.reduce((sum, item) => sum + (item.price * item.qty), 0);
      cartTotal.textContent = `R$ ${total.toFixed(2)}`;
    }

    // Abrir modal de pedido
    function openOrderModal(courtNumber) {
      state.selectedCourt = courtNumber;
      state.cart = [];
      document.getElementById('observation').value = '';
      
      modalCourtNumber.textContent = courtNumber;
      renderCart();
      renderMenu();
      orderModal.style.display = 'flex';
    }

    // Confirmar pedido
    function confirmOrder() {
      if (state.cart.length === 0) {
        alert('Adicione itens ao carrinho antes de confirmar!');
        return;
      }
      
      const observation = document.getElementById('observation').value;
      const now = new Date();
      const timeStr = `${now.getHours().toString().padStart(2, '0')}:${now.getMinutes().toString().padStart(2, '0')}`;
      
      // Criar novo pedido
      const newOrder = {
        id: state.nextOrderId++,
        court: state.selectedCourt,
        items: [...state.cart],
        status: 'busy',
        time: timeStr,
        observation: observation
      };
      
      state.orders.push(newOrder);
      state.courts[state.selectedCourt - 1] = 'busy';
      
      // Fechar modal e resetar
      orderModal.style.display = 'none';
      state.cart = [];
      
      // Atualizar interface
      renderCourts();
      renderOrders();
      
      alert(`Pedido #${newOrder.id} confirmado para a Quadra ${state.selectedCourt}!`);
    }

    // Event Listeners
    closeModal.addEventListener('click', () => {
      orderModal.style.display = 'none';
    });
    
    newOrderBtn.addEventListener('click', () => openOrderModal(1));
    
    confirmOrderBtn.addEventListener('click', confirmOrder);
    
    // Fechar modal ao clicar fora
    window.addEventListener('click', (e) => {
      if (e.target === orderModal) {
        orderModal.style.display = 'none';
      }
    });

    // Inicializar aplica√ß√£o
    function initApp() {
      // Atualizar status das quadras com base nos pedidos
      state.orders.forEach(order => {
        if (order.status !== 'delivered') {
          state.courts[order.court - 1] = order.status;
        }
      });
      
      renderCourts();
      renderOrders();
    }

    // Iniciar app quando carregar
    document.addEventListener('DOMContentLoaded', initApp);
  </script>
</body>
</html>